
\documentclass[11pt, a4paper,twocolumn]{article}

%\usepackage[margin=1in]{geometry}
\usepackage[T1]{fontenc}
\usepackage{verbatim}

\usepackage{ifpdf}
\ifpdf 
    \usepackage[pdftex]{graphicx}   % to include graphics
    \pdfcompresslevel=9 
    \usepackage[pdftex,     % sets up hyperref to use pdftex driver
            plainpages=false,   % allows page i and 1 to exist in the same document
            breaklinks=true,    % link texts can be broken at the end of line
            colorlinks=true,
            pdftitle=My Document
            pdfauthor=Robin Solignac
           ]{hyperref} 
    \usepackage{thumbpdf}
\else 
    \usepackage{graphicx}       % to include graphics
    \usepackage{hyperref}       % to simplify the use of \href
\fi 

\title{Student Seminar: Exploiting Two Factor Authentication of Android and IOS}
\author{Robin Solignac 235020}
\date{\today}

\begin{document}
\maketitle
\begin{comment}
\begin{abstract}
Applications  which  can  be  used  in  different  platforms  now  use  two
factor authentication (2FA) to allow users to conveniently switch from one platform to another.
For example, when a user tries to login his gmail, it is not enough to enter correct password 
(first factor), it is also necessary to enter a PIN which is received by an SMS (second factor).
The aim of this project explaining the attacks against 2FA in IOS and Android devices and 
what can be the solutions. 
\end{abstract}
\end{comment}

\section{Introduction: The 2 Factors Authentication}

Two factor authentication (2FA) is a combination of 2 access control  in order to make it more robust to attacker.The general model is that to authenticate yourself to an online service you both need to provide an information you know (your password) and use a physical object you have. 
One of the most most used "physical object" is a phone or a smartphone
as large majority of people in today's world has one.
More specifically, it's the fact it's possible, through this phone, to send a message who will not transit by the (maybe compromised) PC 
who is used. your smartphone is used as an out of band channel.

While it exist other 2FA schemes we will only study here the ones using smartphones as they are the most frequent in practice. Moreover the attack will focus on SMS based scheme.
It make sense to focus attack only on this SMS based 2FA because, as it will discussed later most of the other smartphones 2FA proposed by services an be passed by asking for SMS 2FA instead.

The precise scheme assumed here is the following: assuming we want to authentication to a service on a PC, after a successful password authentication, the user is required to enter (on the PC) a One-Time Passwords (OTP) send by SMS to the phone in order to fully authenticate to the service. 

This paper will present 2 attacks to break this authentication assuming a compromise PC and a sane smartphone. The former is to be used with android, the later on Ios.

This paper is essentially based on \href{http://fc16.ifca.ai/preproceedings/24_Konoth.pdf}{"How Anywhere Computing Just Killed Your Phone-Based Two-Factor Authentication" } by  Konoth, Radhesh Krishnan, Victor van der Veen, and Herbert Bos. \cite{Base}

%\subsection{2FA: 2 Factors Authentification}
\section{Key concepts}
Before describing precisely the attack, this section will explain and summarize the Key concept used by the 2 two attack,  The first subsection will describe what is synchronization and why it's a threat to the 2FA concept. the second describe the setup in which we assume the attack are performed: the phone is sane. the PC is compromised and is able perform a Man in the Browser attack.
\subsection{Synchronization}
Our use of informatics is mostly divided between our personal computers 
and smartphones. for this reason software manufacturer have sometime decided to implement synchronization processes between the 2 devices in order to make transition and general use of the 2 smoother, blurring the line between the two. This mean that the smartphone is less and less out of band with respect to the PC, which break the main assumption done by 2FA scheme using smartphone.

3 examples of such synchronization who will be used in our attack are the 
following:
\begin{description}
  \item[Google play remote install] it's possible from a PC via the Google play website to remotely install an application on our phone if both are logged on the same Google account. the only thing appearing on the phone afterward is the application icon in the app tray and an notification saying "<app\_name> as been successfully installed".
  
  \item[Apple Continuity] On recent version of Ios and macOs you can enable this setting to synchronize in clear, read and send your SMS from your mac.
  
  \item[Browser synchronization] Almost all of today's most popular Internet browser (i.e Firefox, Chrome or safari) propose synchronization between the mobile and desktop versions logged under same user account. it will sync history, bookmark and sometime currently open tabs.
\end{description}
\subsection{MitB: Man in the browser attack}
MitB is a type of attack who assume that the attacker has an entire control and view on the PC browser of the victim. Like a man in the middle attack, the attacker can see all data 
exchanged by the browser and server and can modify them (on the fly). it also can send and receive data in the name of the user. But unlike the former it has access to these data before they encrypted (or after they are decrypted) And has also modify browser r elated setting like bookmark and current open tabs URLs. In short powerful man in the browser attack can remotely perform the same actions has someone getting physical access to the browser as well as modify content of request and responses messages.

there are different way to do a MitB attack, using malware infecting the whole system, by API hooking or via malicious plugin. TO COMPLETE ?
\section{2FA Attack}
 this section describe attack to defeat 2FA under the following model. We assume that the PC of the customer is compromised and can perform man in the browser attack. The attacker try to authenticate on a service from the PC, It has get the password from the PC infection but the service request a second factor authentication by sending a one time password (OTP) by SMS to the victim smartphone who run is either under Adroid or Ios. 
\subsection{Android}
The principle to the attack is: via the MitB, install from the web play-store  an application from with authorization to read SMS (authorization confirmed from the browser too). Then when an SMS is received it is forward via internet to the attacker, who can successfully authenticate In order to succeed the attacker need to pass two defense setup by Google.

\paragraph{Bypassing Google boncer} llzezeffe

\paragraph{Activate the app} When installed, an Android app can't be triggered by external event (such as RECEIVE\_SMS) until it has been explicitly open for the first time. So we need to trick the user to open the app from the phone. The 
first way is to give a clickbait title to the app so that the user will be tempted to open it when he sees the installation notification.

The second is to trigger its opening from the mobile browser by cliking a link

In both case just after this opening the can make itself deappear for homescreen and app tray, leaving little trace of it existence of the smartphone, only in the application list in the application part of the parameters menu. While still permanently running in the background.

\subsection{Ios}
Since 2015 Ios has forbid the application to read all 
notificatino or SMS without explicit autorization (or they will be rejected from entering the appstore). 
Since then, the previous attack does not work. 

However if the infected browser is on a Mac and Continity 
is activated on the Iphone. the browser can still has acces to to SMS in clear 
on the mac as soon as both are on the same LAN, which is likely to eventually occurs
as they belong to the same person. 

So under these pretty likely to appers conditons, the 2FA authentification can 
be very easily bypassed on 2FA by an MitB attack.


\section{Discutions} 
\subsection{Android}
\subsection{Ios}
\section{Conclusion}

\bibliography{ref} 
\bibliographystyle{plain}

\end{document}  
